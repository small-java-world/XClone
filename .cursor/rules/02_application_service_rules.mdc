---
description: 
globs: 
alwaysApply: false
---
# Application Service Rules

- UseCaseインターフェースを実装する
- 単一責務の原則を厳守する
- 入力はXXXCommandクラスで受け取る
- 出力はXXXResponseクラスで返す
- トランザクション境界として機能する
- ドメインオブジェクト間の調整（オーケストレーション）を行う
  - 複数の集約にまたがる操作の制御
  - ドメインサービスの呼び出し
  - リポジトリの呼び出し
  - トランザクション管理
- ドメインモデルの生成・操作は直接行わず、ドメイン層のファクトリーメソッドやドメインサービスを使用する
- コルーチンを使用し、suspend関数として実装する
- 例外はドメイン例外をスローする
- 依存性はコンストラクタインジェクションで注入する